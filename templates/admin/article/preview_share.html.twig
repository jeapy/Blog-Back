{% extends '@EasyAdmin/page/content.html.twig' %}

{% block content_title %}Share Preview for "{{ news.title }}"{% endblock %}

{% block main %}
    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>Facebook Preview</h5>
                </div>
                <div class="card-body">
                    <div class="fb-preview">
                        {% if news.featuredImageUrl %}
                            <img width=100 src="{{ asset('uploads/article/' ~ news.featuredImageUrl) }}" 
                                 class="preview-image" alt="Featured image">
                        {% endif %}
                        <div class="preview-content">
                            <h3>{{ news.title }}</h3>
                            <p>{{ news.excerpt }}</p>
                            <small class="text-muted">{{ app.request.schemeAndHttpHost }}</small>
                        </div>
                    </div>
                    
                   

                    <div class="mt-4">
                        <h6>Share URL:</h6>
                        <code>{{ shareUrl }}</code>
                    </div>

                    <div class="mt-4">
                       

                        <a href="https://www.facebook.com/sharer/sharer.php?u={{ shareUrl|url_encode }}" 
                           target="_blank" 
                           class="btn btn-primary ml-2">
                            Partagez sur Facebook
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>OpenGraph Meta Tags</h5>
                </div>
                <div class="card-body">
                    <pre>
&lt;meta property="og:title" content="{{ news.title }}" /&gt;
&lt;meta property="og:description" content="{{ news.excerpt | slice(1, 50) }}" /&gt;
&lt;meta property="og:image" content="{{ app.request.schemeAndHttpHost }}{{ asset('uploads/article/' ~ news.featuredImageUrl) }}" /&gt;
&lt;meta property="og:url" content="{{ shareUrl }}" /&gt;
                    </pre>
                </div>

            </div>
        </div>
    </div>
{% endblock %}